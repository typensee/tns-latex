\documentclass[10pt, a4paper]{article}

\input{../preamble.cfg.tex}

%\usepackage{../macroenv/macroenv}


\begin{document}

%\section{La syntaxe du langage proposé}

\subsection{Les blocs d'instruction}

L'organisation des blocs d'informations se fait ligne par ligne en respectant les règles suivantes.
\begin{enumerate}
    \item Les commentaires se font uniquement à la sauce \LaTeX\ via \tdocinlatex{% Mon commentaire} par exemple.


    \item Les lignes vides sont autorisées
    \footnote{
    	\label{tns-math-functab-dsl-l3-blank-struct}%
    	Ceci est très pratique pour aérer et organiser le code.
    }.


    \item La syntaxe pour les contenus est la suivante.
    \begin{itemize}
        \item Les espaces initiaux et finaux sont ignorés (voir la note \ref{tns-math-functab-dsl-l3-blank-struct} de bas de page).

        \item Les différents contenus sont séparés par des points-virgules.

        \item Tout contenu est associé à un contexte.

        \item Un nouveau contexte s'indique en début de contenu via \tdocinlatex{contexte = contenu}, et aucun contexte par défaut n'est défini.
    \end{itemize}


    \item Le point-virgule est optionnel après le tout dernier contenu.
\end{enumerate}


\medskip


Voici un code fictif illustrant les règles précédentes.

\tdoclatexinput[code]{examples/dsl/struct-fictional.tex}


% --------------- %


\begin{tdocnote}
    Il est tout à fait possible d'écrire des contenus à la suite comme dans l'exemple suivant mais nous le déconseillons car cela nuit à la lisibilité du code.

    \tdoclatexinput[code]{examples/dsl/struct-fictional-compact.tex}

    On peut même utiliser l'horreur suivante
    \footnote{
    	Ce mode de rédaction est en fait idéal pour la fabrication automatisée de codes par un script extérieur.
    }.

    \tdoclatexinput[code]{examples/dsl/struct-fictional-monster.tex}
\end{tdocnote}

\end{document}
