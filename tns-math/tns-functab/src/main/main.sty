% == PACKAGES == %

\RequirePackage{nicematrix}%
               [6.26]


% == TOOLS == %

\ExplSyntaxOn

% -- FUNCTABLE ENV. -- %

% :: \L3 INTERFACE :: %

%%%
% prototype::
%     #1 : the user's settings (see below).
%     #2 : the DSL code of the table.
%
%     :action: an internal version of the information given via the DSL
%              is created, and then, unless otherwise stated, the table
%              corresponding to the data is produced.
%
%     :see: l3func.tns_functab_functable:nn
%
%
% =================
% Available options
% =================
%
% XXXX
%%%
\NewDocumentEnvironment{ functable }{ O{} b }{%
  \tns_functab_functable:nn { #1 } { #2 }
}{}


% :: \L3 MAIN IMPLEMENTATION :: %

% The ID nb. of the env.
\int_new:N  \g_tns_functab_id_int
\int_set:Nn \g_tns_functab_id_int { 0 }


%%%
% prototype::
%     :action: the work expected by the `functable` \env.
%
%     :see: env.functable ,
%           l3func.tns_core_DSL_ctxt_parser:nn
%%%
\cs_new:Npn \tns_functab_functable:nn #1#2 {
% TODO
% Options to use.


  \int_gincr:N \g_tns_functab_id_int

% Analysis of the "context" DSL code.
  \tns_core_DSL_ctxt_parser:nn
    { -:- functable -:- \int_use:N \g_tns_functab_id_int -:- } % ID USED
    { #2 }


% Building the table.
  \bigskip\par
  NEW ~ DATA ~ \int_use:N \g_tns_functab_id_int

% Build the good table from the data.
  \par
  {\hfill \Huge TODO}
}


% :: \L3 1D-DATA :: %


% :: \L3 2D-DATA :: %


% :: \L3 SIGNS AND/OR VARIATIONS :: %

\ExplSyntaxOff
