% Source: https://tex.stackexchange.com/q/705192/6880

\documentclass{article}

\ExplSyntaxOn

\NewDocumentEnvironment{linebyline}{b}{
    \seq_new:N \l_temp_seq
    \regex_split:nnNTF { \n } { #1 } \l_tmpa_seq
    	{ true: #1 }
	    { false: #1 }
}{}

\ExplSyntaxOff


\begin{document}


\begin{linebyline}
% Comment
	Line 1
	Line 2
% Comment
	Line 3
\end{linebyline}


\end{document}
